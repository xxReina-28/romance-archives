<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Letters to Amore</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <canvas id="fx" aria-hidden="true"></canvas>

  <!-- Flight overlay for FLIP animation -->
  <div id="flightOverlay" class="flightOverlay" aria-hidden="true"></div>

  <main class="stage">

    <!-- Passphrase Gate -->
    <section id="gateView" class="view is-active" aria-label="Passphrase gate">
      <!-- Curtains -->
      <div id="curtain" class="curtain" aria-hidden="true">
        <div class="curtainPanel left"></div>
        <div class="curtainPanel right"></div>
      </div>

      <div class="gateCard">
        <div class="gateTop">
          <div class="sigil" aria-hidden="true">✦</div>
          <h1 class="gateTitle">Restricted Romance Archive</h1>
          <p class="gateSub">Enter the passphrase. The curtains will judge you.</p>
        </div>

        <div class="gateHint">
          <p class="hintTitle">Hint</p>
          <p class="hintText">
            Please put the first thing I said when I first met you.
          </p>
        </div>

        <form id="gateForm" class="gateForm" autocomplete="off">
          <label class="srOnly" for="passphrase">Passphrase</label>
          <input id="passphrase" class="gateInput" type="password" placeholder="Passphrase" required />
          <button class="btn" type="submit">Unlock</button>
        </form>

        <p id="gateError" class="gateError" role="alert" aria-live="polite"></p>

        <div id="cryWrap" class="cryWrap" aria-hidden="true">
          <img
            class="cryGif"
            src="https://media.giphy.com/media/OPU6wzx8JrHna/giphy.gif"
            alt=""
            loading="lazy"
          />
        </div>

        <p class="gateFooter">
          If you’re not amore, this page will pretend it doesn’t know you.
        </p>
      </div>
    </section>

    <!-- Envelope desk (gallery) -->
    <section id="deskView" class="view" aria-label="Envelope desk">
      <div class="deskTop">
        <div class="deskTitleWrap">
          <h2 class="deskTitle">Envelope Desk</h2>
          <p class="deskSub">Pick one. It will fly to the center like it owns the place.</p>
        </div>

        <div class="deskFilters" aria-label="Filters">
          <select id="themeFilter" class="select">
            <option value="">All themes</option>
          </select>
          <select id="occasionFilter" class="select">
            <option value="">All occasions</option>
          </select>
          <button id="clearFilters" class="btn secondary" type="button">Clear</button>
        </div>
      </div>

      <div id="deskArea" class="deskArea" aria-label="Envelopes"></div>

      <p class="hint">Hover for sparkle. Click to open. Emotional safety not guaranteed.</p>
    </section>

    <!-- Letter view -->
    <section id="letterView" class="view" aria-label="Letter">
      <div class="note note-folded" id="note">
        <div class="note-top">
          <h1 class="note-title" id="noteTitle">To my dearest amore,</h1>
          <span class="note-date" id="noteDate"></span>
        </div>

        <article class="note-body" id="letterText" aria-label="Letter text"></article>

        <div class="note-actions">
          <button id="closeBtn" class="btn secondary" type="button">Back</button>
          <button id="replayBtn" class="btn" type="button">Replay</button>
        </div>
      </div>
    </section>

  </main>

  <audio id="bgm" loop preload="auto">
    <source src="./assets/piano.mp3" type="audio/mpeg" />
  </audio>

  <script src="script.js"></script>
</body>
</html>
